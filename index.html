<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Abdelhakim's Portfolio</title>
    <script src="https://cdn.tailwindcss.com"></script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.min.js"></script>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
    <style>
      body {
        font-family: "Segoe UI", sans-serif;
      }
      #background {
        background-image: url("images/background.jpg");
        background-repeat: no-repeat; /* Prevent tiling */
        background-position: center; /* Center horizontally & vertically */
        background-size: cover;
        overflow: hidden;
        height: calc(100vh - 56px);
        position: absolute;
        width: 100%;
      }

      .window {
        transition: transform 0.2s, box-shadow 0.2s;
      }

      .taskbar-icon:hover {
        background: #ffffff33 !important;
      }

      .folder:hover {
        transform: translateY(-5px);
      }

      /* Scrollbar styling */
      ::-webkit-scrollbar {
        width: 10px;
      }

      ::-webkit-scrollbar-track {
        background: rgba(255, 255, 255, 0.1);
        border-radius: 5px;
      }

      ::-webkit-scrollbar-thumb {
        background: rgba(255, 255, 255, 0.3);
        border-radius: 5px;
      }

      ::-webkit-scrollbar-thumb:hover {
        background: rgba(255, 255, 255, 0.4);
      }
      .window {
        position: absolute;
      }
      #contact_card,
      #resume_card,
      #browser_card,
      #form_card {
        position: absolute;
        top: 100px; /* initial position */
        left: 100px;
        width: 600px; /* set a default width */
        height: calc(100% - 56px);
        cursor: grab;
      }
      .window {
        box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5);
        border: 1px solid rgba(255, 255, 255, 0.1);
        position: absolute;
        top: 0;
      }
      .short-border {
        position: relative;
      }
      .short-border:hover {
        background: #ffffff2d !important;
      }

      .short-border::after {
        content: "";
        position: absolute;
        bottom: 0;
        border-radius: 50%;
        pointer-events: none;
        width: 8px; /* length of the line */
        height: 3px;
        background: gray;
      }
    </style>
  </head>
  <body class="h-screen flex flex-col text-white bg-gray-900">
    <div class="background" id="background">
      <!-- Desktop Content -->
      <div class="overflow-auto p-6 px-0 grid grid-cols-4 lg:grid-cols-12">
        <!-- Projects Folder -->
        <div class="folder text-center cursor-pointer">
          <div
            class="w-8 h-8 mx-auto rounded-lg flex items-center justify-center"
            onclick='alert("This feature is currently being developed and will be available soon.")'
          >
            <img src="./images/RecycleBin.png" alt="" />
          </div>
          <p class="mt-2 text-sm font-medium">Recycle Bin</p>
        </div>
        <!--  -->
        <div
          class="folder text-center cursor-pointer transition-transform duration-300"
          onclick='alert("This feature is currently being developed and will be available soon.")'
        >
          <div
            class="w-8 h-8 mx-auto rounded-lg flex items-center justify-center"
          >
            <img src="./images/FolderIcon.png" alt="" />
          </div>
          <p class="mt-2 text-sm font-medium">Projects</p>
        </div>

        <!-- Other Desktop Icons -->
        <div class="folder text-center cursor-pointer">
          <div
            class="w-8 h-8 mx-auto rounded-lg flex items-center justify-center"
          >
            <img src="./images/infoIcon.png" alt="" />
          </div>
          <p class="mt-2 text-sm font-medium">About Me</p>
        </div>

        <div class="folder text-center cursor-pointer" id="contact_icon">
          <div
            class="w-8 h-8 mx-auto rounded-lg flex items-center justify-center"
          >
            <img src="./images/ContactIcon.png" alt="" />
          </div>
          <p class="mt-2 text-sm font-medium">Contact</p>
        </div>

        <div class="folder text-center cursor-pointer" id="resume_icon">
          <div
            class="w-8 h-8 mx-auto rounded-lg flex items-center justify-center"
          >
            <img src="./images/pdfIcon.png" alt="" />
          </div>
          <p class="mt-2 text-sm font-medium">Resume</p>
        </div>
      </div>

      <!-- Windows -->
      <div class="contact_card hidden" id="contact_card"></div>
      <div class="resume_card hidden" id="resume_card"></div>
      <div class="browser_card hidden" id="browser_card"></div>
      <div class="form_card hidden" id="form_card"></div>
    </div>
    <!-- Taskbar -->
    <div
      class="h-14 bg-gray-800 bg-opacity-70 backdrop-blur-md flex items-center justify-between px-4 absolute bottom-0 left-0 right-0"
    >
      <div class="flex items-center space-x-4">
        <div
          onclick='alert("This feature is currently being developed and will be available soon.")'
          class="taskbar-icon w-10 h-10 flex items-center justify-center rounded-lg cursor-pointer"
        >
          <i class="fab fa-windows text-blue-400 text-[24px]"></i>
        </div>
        <div
          onclick='alert("This feature is currently being developed and will be available soon.")'
          class="taskbar-icon w-10 h-10 flex items-center justify-center rounded-lg cursor-pointer"
        >
          <i class="fas fa-search text-gray-300"></i>
        </div>
        <div
          class="taskbar-icon w-10 h-10 flex items-center justify-center rounded-lg cursor-pointer"
        >
          <div
            onclick='alert("This feature is currently being developed and will be available soon.")'
            class="w-7 h-7 mx-auto rounded-lg flex items-center justify-center"
          >
            <img src="./images/FolderIcon.png" alt="" />
          </div>
        </div>
        <div
          class="taskbar-icon w-10 h-10 flex items-center justify-center rounded-lg cursor-pointer"
        >
          <div
            class="w-7 h-7 mx-auto rounded-lg flex items-center justify-center"
            id="form_icon"
          >
            <i class="fas fa-envelope text-green-400 text-[24px]"></i>
          </div>
        </div>
        <div
          class="taskbar-icon w-10 h-10 flex items-center justify-center rounded-lg cursor-pointer"
        >
          <div
            class="w-7 h-7 mx-auto rounded-lg flex items-center justify-center"
            id="browser_icon"
          >
            <img src="./images/browserIcon.png" alt="" />
          </div>
        </div>
      </div>

      <div class="flex items-center space-x-2 flex-col">
        <div id="live-time" class="text-xs text-gray-300"></div>
        <div id="live-date" class="text-xs text-gray-300"></div>
      </div>
    </div>

    <script>
      // Simple interaction for the folder

      const card_icon = document.getElementById("contact_icon");
      const card_container = document.getElementById("contact_card");
      const resume_container = document.getElementById("resume_card");
      const resume_icon = document.getElementById("resume_icon");
      const browser_container = document.getElementById("browser_card");
      const browser_icon = document.getElementById("browser_icon");
      const form_container = document.getElementById("form_card");
      const form_icon = document.getElementById("form_icon");

      resume_icon.addEventListener("dblclick", async () => {
        resume_container.style.display = "block";
        if (!resume_container.innerHTML) {
          // use resume_container here
          // load once
          const response = await fetch("./folders/resume.html");

          const html = await response.text();

          resume_container.innerHTML = html;

          // Find all scripts inside fetched HTML
          resume_container.querySelectorAll("script").forEach((oldScript) => {
            const newScript = document.createElement("script");
            if (oldScript.src) {
              newScript.src = oldScript.src; // external script
            } else {
              newScript.textContent = oldScript.textContent; // inline script
            }
            document.body.appendChild(newScript); // append to execute
          });
        }
      });

      form_icon.addEventListener("click", async () => {
        form_container.style.display = "block";
        if (!form_container.innerHTML) {
          // use form_container here
          // load once
          const response = await fetch("./folders/form.html");

          const html = await response.text();

          form_container.innerHTML = html;

          // Find all scripts inside fetched HTML
          form_container.querySelectorAll("script").forEach((oldScript) => {
            const newScript = document.createElement("script");
            if (oldScript.src) {
              newScript.src = oldScript.src; // external script
            } else {
              newScript.textContent = oldScript.textContent; // inline script
            }
            document.body.appendChild(newScript); // append to execute
          });
        }
        form_icon.parentElement.style.background = "#ffffff33";
        form_icon.parentElement.classList.remove("short-border");
      });

      browser_icon.addEventListener("click", async () => {
        browser_container.style.display = "block";
        if (!browser_container.innerHTML) {
          // use browser_container here
          // load once
          const response = await fetch("./folders/browser.html");

          const html = await response.text();

          browser_container.innerHTML = html;

          // Find all scripts inside fetched HTML
          browser_container.querySelectorAll("script").forEach((oldScript) => {
            const newScript = document.createElement("script");
            if (oldScript.src) {
              newScript.src = oldScript.src; // external script
            } else {
              newScript.textContent = oldScript.textContent; // inline script
            }
            document.body.appendChild(newScript); // append to execute
          });
        }
        browser_icon.parentElement.style.background = "#ffffff33";
        browser_icon.parentElement.classList.remove("short-border");
      });

      card_icon.addEventListener("dblclick", async () => {
        card_container.style.display = "block";
        if (!card_container.innerHTML) {
          // use card_container here
          // load once
          const response = await fetch("./folders/contact.html");
          const html = await response.text();
          card_container.innerHTML = html;
        }
      });
    </script>
    <script type="module" src="./js/windows/contactWindow.js"></script>
    <script type="module" src="./js/windows/resumeWindow.js"></script>
    <script type="module" src="./js/windows/browserWindow.js"></script>
    <script type="module" src="./js/windows/formWindow.js"></script>

    <script src="./js/clock.js"></script>
  </body>
</html>
